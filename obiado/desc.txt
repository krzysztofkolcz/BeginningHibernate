Spring Security:
websystique spring security
chyba te:
http://websystique.com/spring-security/spring-security-4-hibernate-annotation-example/
http://websystique.com/spring-security/spring-security-4-custom-login-form-annotation-example/

Formularz rejestracji:
http://www.baeldung.com/registration-with-spring-mvc-and-spring-security

liquibase:
/home/kkolcz/app/liquibase
liquibase.properties (jak liquibase.properties.example)
java -jar liquibase.jar migrate


Przykład annotacji:
http://www.mkyong.com/java/java-custom-annotations-example/


Przypisanie użytkownikowi roli - hibernate many-to-many:
http://websystique.com/springmvc/springmvc-hibernate-many-to-many-example-annotation-using-join-table/

Rejestracja działa.

Testy:
http://www.petrikainulainen.net/spring-mvc-test-tutorial/
https://springtestdbunit.github.io/spring-test-dbunit/
https://springtestdbunit.github.io/spring-test-dbunit/sample.html
http://www.marcphilipp.de/blog/2012/03/13/database-tests-with-dbunit-part-1/


Testy nie uwzględniają walidacji, np. dodając puste pole firstName przechodzi rejestracja.
Zmieniam hibernate validator z 5.1.2 na 5.2.4.Final. To rozwiązało problem

Walidacja pól formularzy:
http://www.disasterarea.co.uk/blog/mockmvc-to-test-spring-mvc-form-validation/

TODO - test dla zalogowanego administratora - mock

TODO - dokończyć setupowanie dbunita:
http://www.marcphilipp.de/blog/2012/03/13/database-tests-with-dbunit-part-1/
http://www.petrikainulainen.net/programming/spring-framework/integration-testing-of-spring-mvc-applications-controllers/
http://springtestdbunit.github.io/spring-test-dbunit/
http://www.mkyong.com/spring/spring-embedded-database-examples/
https://coderphil.wordpress.com/2012/04/23/database-testing-using-dbunit-spring-and-annotations/
http://docs.spring.io/spring/docs/3.1.x/spring-framework-reference/html/jdbc.html#jdbc-embedded-database-support
http://stackoverflow.com/questions/2012292/spring-configuration-for-embedded-h2-database-for-tests

Problem z session factory.
http://www.inspire-software.com/en/index/view/articles-design-and-impl-dbunit-hibernate-integration-testing.html

Run single test - https://maven.apache.org/surefire/maven-surefire-plugin/examples/single-test.html

Found interface org.springframework.test.context.TestContext, but class was expected
http://stackoverflow.com/questions/21016157/spring-4-found-interface-org-springframework-test-context-testcontext-but-cla
zmiana wersji na: 
  <artifactId>spring-test-dbunit</artifactId>
  <version>1.2.1</version>

org.hibernate.exception.SQLGrammarException: could not prepare statement

Prawdopodobnie niezsetupowana baza danych
http://stackoverflow.com/questions/9329283/how-to-initialize-in-memory-hsqldb-using-script-via-spring

Do przerobienia:
https://tillias.wordpress.com/2012/11/10/unit-testing-and-integration-testing-using-junit-liquibase-hsqldb-hibernate-maven-and-spring-framework/
